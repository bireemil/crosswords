:root { --bg:#111; --fg:#eee; --muted:#aaa; --grid:#222; --cell:#1a1a1a; --cell-border:#333; --block:#2b2f3a; --accent:#59f; }
html,body { margin:0; height:100%; background:#181818; color:var(--fg); font-family:system-ui, -apple-system, Segoe UI, Roboto, Inter, sans-serif; }
.topbar { display:flex; justify-content:space-between; align-items:center; padding:10px 16px; border-bottom:1px solid #2a2a2a; background:#121212; position:sticky; top:0; }
.brand { font-weight:700; letter-spacing:.3px; }
.controls button { margin-left:8px; background:#1f2330; color:#e6e6e6; border:1px solid #2f3547; padding:6px 10px; border-radius:8px; }
.controls button:hover { background:#273049; }
.layout { display:grid; grid-template-columns: 1.5fr 320px; gap:16px; padding:16px; }
.current-clue { padding:8px 16px; border-bottom:1px solid #2a2a2a; color:#cfd3dc; font-size:14px; background:#151821; }
.current-clue span { margin-right:6px; }
.grid { display:grid; row-gap:1px; column-gap:2px; background:var(--grid); user-select:none; width:max-content; }
.grid-panel { display:flex; justify-content:center; }
.grid-wrap { margin:0 auto; width:100%; display:flex; justify-content:center; align-items:center; }
.grid-wrap { overflow:auto; padding:8px; background:#0e1118; border:1px solid #23283a; border-radius:10px; }
.grid-wrap .grid { outline:1px solid var(--cell-border); outline-offset:-1px; }
.cell { width:var(--cell-size, 45px); height:var(--cell-size, 45px); display:flex; align-items:center; justify-content:center; background:var(--cell); border:0; position:relative; font-weight:600; }
.cell.top { border-top-width:0; }
.cell.left { border-left-width:0; }
.cell .ltr { font-size:var(--cell-font, 18px); }
.cell .num { position:absolute; top:2px; left:3px; font-size:10px; color:var(--muted); font-weight:500; z-index:3; pointer-events:none; }
.cell.correct { background:#123624; border-color:#1f5d3b; }
.cell.correct .ltr { color:#a5f0bf; }
.cell.block { background:var(--block); border-color:#1e2230; }
.cell .num { position:absolute; top:2px; left:3px; font-size:10px; color:var(--muted); font-weight:500; }
.cell.focus { outline:2px solid var(--accent); box-shadow: inset 0 0 0 2px var(--accent); z-index:3; }
.cell.run { background:#20283a; }
.clues-panel { overflow:auto; max-height:calc(100vh - 160px); padding-right:8px; }
.clues h3 { margin:8px 0 4px; color:#cfcfcf; }
.clues ul { list-style:none; padding:0; margin:0; }
.clues li { padding:6px 4px; border-radius:6px; cursor:pointer; }
.clues li.active { background:#1f2a3a; }
.status { padding:8px 16px; border-top:1px solid #2a2a2a; color:#bbb; }
.toggle { margin-left:12px; }

@media (max-width: 900px) { .layout { grid-template-columns: 1fr; } }

/* Light mode */
body.light { background:#fafafa; color:#222; }
body.light .topbar { background:#fff; border-bottom:1px solid #ddd; }
body.light .grid { background:#e5e5e5; }
body.light .grid-wrap { background:#fff; border-color:#ddd; }
body.light .cell { background:#fff; border-color:#ddd; }
body.light .cell.run { background:#eaf2ff; }
body.light .cell.focus { outline:2px solid #2a66ff; box-shadow: inset 0 0 0 2px #2a66ff; }
body.light .cell.correct { background:#e8fff1; border-color:#8ad4a3; }
body.light .cell.correct .ltr { color:#1f7a4b; }
body.light .cell.block { background:#444; border-color:#333; }
body.light .cell .num { color:#777; }
body.light .clues-panel h3 { color:#333; }
body.light .clues li.active { background:#e9efff; }


/* Menu */
.menu-min { background:radial-gradient(1000px 600px at 50% -10%, #1f2642, #0c0f1a); min-height:100vh; display:flex; flex-direction:column; align-items:center; padding:calc(40px + env(safe-area-inset-top)) 16px 40px; }
.menu-title { color:#fff; letter-spacing:.3px; font-weight:800; margin:0 0 24px; text-shadow:0 2px 12px rgba(0,0,0,.35); }
.levels-grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(88px, 1fr)); gap:12px; width:min(900px, 100%); }
.level-btn { height:74px; border-radius:14px; background:linear-gradient(180deg, #3a7bd5, #2a5298); color:white; border:none; font-size:22px; font-weight:800; box-shadow:0 6px 14px rgba(0,0,0,.25), inset 0 2px 6px rgba(255,255,255,.25); cursor:pointer; }
.level-btn:hover { filter:brightness(1.07); }
.level-btn:active { transform:translateY(1px); }
.level-badge { position:absolute; top:6px; right:8px; font-size:10px; opacity:.85 }

/* Mobile input helper */
.mobile-input { position:fixed; left:0; bottom:0; opacity:0.01; height:1px; width:1px; padding:0; border:0; background:transparent; }

